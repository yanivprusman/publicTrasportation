7. Request for version 2.8
7.1. The Request is at SIRI-Lite, which is based on HTTP GET. See CEN
Volume 2, section 12, for more information about SIRI-Lite.
7.2. The Request address for version 2.8 is based on a base address and
parameters. The Request fields are sent as URL parameters.
7.3. The ICD will show the base address as <base address>.
7.4. The Request address will be given to the Developer by Email, with
his RequestorRef (the user name).
7.5. Due to the use of SIRI-Lite, the Request structure does not comply
with the SIRI XSD.
7.6. Some mandatory fields at SIRI are not included at the Request, like
RequestTimestamp.
7.7. The Request URL is built with the following:
7.7.1. The requested service, which is stop monitoring.
7.7.2. The Response format, which can be 'xml' or 'json'.
7.7.3. The access key, which received from MOT, and is similar to
RequestorRef at version 2.7.
7.7.4. The Request parameters.
7.8. The format of the Request URL is detailed in the following table:
Base Versio
n
Respon
se
format
Access
key Request parameters
<base
address> / 2.8 /
xml
or
json
? Key=…. par1&par2…
7.9. The parameters are build according the following rules:
7.9.1. Define a value to a parameter, is by: parameter=value.
For example: LineRef=20.
7.9.2. In order to define more than one parameters, the parameters
are separated with '&'.
For example: LineRef=5&MonitoringRef =32902.
7.9.3. The order of the parameters is not important.
7.9.4. Parameters can have more than one value, and in this case
the values should be separated with ','.
State of Israel
10
For example: MonitoringRef=32901,32902.
7.9.5. Only one parameter can have more than one value, so:
MonitoringRef=32901,32902&LineRef=789 is valid.
MonitoringRef=32901&LineRef=567,5637 is valid.
MonitoringRef=32901,32902&LineRef=567,5637 is NOT valid.
7.10.The Request URL parameters are based on CEN Volume 3, Table
35, that was reduced at version 2.8 to the following table:
Field Type Description
PreviewInterval 0:1 xsd:duration
Forward duration for which Stop Visits should be included,
that is, interval before predicted arrival at the stop for which to
include visits: only journeys, which will arrive or depart within
this time span will be returned.
See - http://www.datypic.com/sc/xsd/t-xsd_duration.html
Example:
 PT45M = 45 minutes
 PT1H = 1 hours
Default value: 30 minutes.
StartTime 0:1 See
section 7.11
Start time of the PreviewInterval time window.
See section 7.11 for details about the format of this field.
Default value: the current time.
MonitoringRef 1:1
MonitoringCode The Monitored stop code, or pre-defined code.
See section 7.14,7.13 for details about pre-defined values.
See sections 7.9.4, 7.9.5 about defining more than one stop.
LineRef 0:1 LineCode
Filter the Response just for trips with the requested LineRef.
Default value: show all lines.
See sections 7.9.4, 7.9.5 about defining more than one line.
MaximumStopVisits 0:1 xsd:positiveInte
ger
Filter the Response to contain no more than
MaximumStopVisits stop visits.
Default: no limit.
MaximumStopVisits
PerLine 0:1 xsd:positiveInte
ger
Filter the Response to contain no more
MaximumStopVisitsPerLine trips per each LineRef.
Default value: no limit.
This parameters is for compatibility with past implementation
of version 2.7.
Set a value of 3 in order to emulate behavior of version 2.7.
StopVisitDetailLevel 0:1 StopVisitDetailL
evelEnum
Detailed level of the Response.
At this version, the following valued are:
- normal: the Response will not contain OnwardCalls.
- calls: the Response will contain OnwardCalls.
Default value: normal
MaximumNumberOf
CallsOnwards 0:1 xsd:positiveInte
ger
Maximum number of OnwardCall entities per Vehicle
journey.
Default value: no limit
7.11.The format for StartTime is: YYYYMMDDTHHmmSSPSS
7.11.1. Y – year
7.11.2. M – month
State of Israel
11
7.11.3. D – day of month
7.11.4. T - separator, no meaning
7.11.5. H – hour, at 24 format
7.11.6. m – minutes
7.11.7. S – seconds
7.11.8. P – separator, no meaning
7.11.9. S – offset from GMT time
7.11.10. Example: 20181125T214953P02 is equal to the normal
dateTime format of 2018-11-25T21:49:53+02:00
7.12.Examples
7.12.1. In the examples, a dummy key 'DM1234' will be used.
7.12.2. Basic Request for stop 32902 with XML response
<base address>/2.8/xml?Key=DM1234&MonitoringRef=32902
7.12.3. Basic Request for stop 32902 with JSON response
<base address>/2.8/json?Key=DM1234&MonitoringRef=32902
7.12.4. Request for stops 32901,32902
<base address>/2.8/xml?Key=DM1234&MonitoringRef=32901,32902
7.12.5. Request for stops 32901, and 32902 with filter to LineRef 5 for
both stops.
<base address>/2.8/xml?Key=DM1234&MonitoringRef=32901,32902&LineRef=5
7.12.6. Basic Request for stop 32902, for the coming 45 minutes.
<base address>/2.8/xml?Key=DM1234&MonitoringRef=32902&PreviewInternal=PT45M
7.12.7. Request for stops 32901, to LineRef 5 and 6.
<base address>/2.8/xml?Key=DM1234&MonitoringRef=32901&LineRef=5,6
7.12.8. The following in NOT a valid Request, since it contradict
section 7.9.5.
<base address>/2.8/xml?Key=DM1234&MonitoringRef=32902,32901&LineRef=5,6
7.12.9. Request for stops LineRef 5 and all stops of the line.
<base address>/2.8/xml?Key=DM1234&MonitoringRef=all&LineRef=5
7.12.10. Request for stop 32902, with details about arrival time of
each Vehicle to all its remaining stops.
<base address>/2.8/xml?Key=DM1234&MonitoringRef=32902&StopVisitDetailLevel=calls
7.12.11. Request for stop 32902, with details about arrival time of
each Vehicle to its next 2 stops
<base
address>/2.8/xml?Key=DM1234&MonitoringRef=32902&StopVisitDetailLevel=calls&MaximumNumberOfCallsOnwards=2
State of Israel
12
7.12.12. Request for a 'snapshot' all active trips, with minimal data
about each trip. See sections 7.15 for details.
<base address>/2.8/json?Key=DM1234&MonitoringRef=AllActiveTripsFilter&StopVisitDetailLevel=normal
7.12.13. Request for a 'snapshot' all active trips, with Onward data
about each trip. See sections 7.16 for details.
<base
address>/2.8/json?Key=DM1234&MonitoringRef=AllActiveTripsFilter&StopVisitDetailLevel=calls
7.12.14. Request for a 'snapshot' all planned trips. See
sections 7.17 for details.
<base address>/2.8/json?Key=DM1234&MonitoringRef=AllPlannedTripsFilter&StopVisitDetailLevel=calls
7.13.In order to simplify the Request for information about many trips,
version 2.8 contains pre-defined filters, which enable 'snapshot'
mode. The pre-defined filter replace the stop code at MonitoringRef.
The following sections details the 3 possible values: 'all',
'AllActiveTripsFilter', 'AllPlannedTripsFilter'.
7.14.MonitoringRef=all:
7.14.1. This filter must come with a value for LineRef.
7.14.2. The Response will contain the expected arrivals of all
Vehicles, with the requested LineRef, to all stops of the line.
7.14.3. This filter valid for version 2.7 too.
7.14.4. The response will contains a series of MonitoredStopVisit
entities that each contains a Vehicle visit to a stop, for a
Vehicle.
7.14.5. Please note that the OnwardCalls (at section 10.8)
mechanism at version 2.8 is more compact than the 'all' filter.
7.15.MonitoringRef=AllActiveTripsFilter with
StopMonitoringDetailLevel=normal:
7.15.1. The Response will contains details about all the Vehicles that
are in an Active trip.
7.15.2. An Active starts when the Vehicle is at the origin stop, till it
reaches the destination stop.
7.15.3. The Response will contains details about the trip, the Vehicle
position, but no prediction is contained.
7.15.4. The Data Center generate a Response for this filter every 15
seconds, and the Developer gets the latest, and most updated
Response for this filter.
State of Israel
13
7.15.5. This filter resemble the 'vehicle positions' at the GTFSRealtime, but at a different format.
7.15.6. This filter is a 'snapshot'. See more details about snapshot at
section 7.18.
7.16.MonitoringRef=AllActiveTripsFilter with
StopMonitoringDetailLevel=calls:
7.16.1. The Response will contains details about all the Vehicles that
are in an Active trip.
7.16.2. An Active starts when the Vehicle is at the origin stop, till it
reaches the destination stop.
7.16.3. The Response will contains details about the trip, the Vehicle
position, with predictions to all stops that the Vehicle has not
visited.
7.16.4. The Data Center generate a Response for this filter every 30
seconds, and the Developer gets the latest, and most updated
Response for this filter
7.16.5. This filter resemble the 'trip updates' at the GTFS-Realtime,
but at a different format.
7.16.6. This filter is a 'snapshot'. See more details about snapshot at
section 7.18.
7.17.MonitoringRef=AllPlannedTripsFilter with
StopMonitoringDetailLevel=normal:
7.17.1. The Response will contains details about all planned trips,
which are scheduled trips that are not yet an Active trip.
7.17.2. The Response will contains details about the predictions to all
stops that the Vehicle is planned to visit.
7.17.3. The Data Center generate a Response for this filter every 60
seconds, and the Developer gets the latest, and most updated
Response for this filter
7.17.4. The Response will contains only trips that are scheduled to
depart no more than 4 hours from the Request time.
7.17.5. This filter is a 'snapshot'. See more details about snapshot at
section 7.18.
7.18.At Snapshot mode, the following apply:
7.18.1. The Response will contains a series of MonitoredStopVisit
entities.
State of Israel
14
7.18.2. A Developer can send a Request with that filter at rate of 15
seconds or more between each Request.
7.18.3. When this filter is used, the Request should NOT contain
parameters for: PreviewInterval, StartTime, LineRef,
MaximumStopVisits, MaximumStopVisitsPerLine,
MaximumNumberOfCallsOnwards.
7.18.4. The Request can be just for json format. XML format is not
supported.
7.18.5. The following table summarize the fields that will be included
in the Response.
Field Snapshot
according
to
section 7.1
5
Snapshot
according
to
section 7.1
6
Snapshot
according
to
section 7.1
7
RecordedAtTime Yes Yes No
ItemIdentifier No No No
MonitoringRef No No No
LineRef Yes Yes Yes
DirectionRef No No No
FramedVehicleJourneyRef Yes Yes Yes
PublishedLineName No No No
OperatorRef Yes Yes Yes
DestinationRef No No No
OriginAimedDepartureTime Yes Yes Yes
VehicleLocation Yes Yes No
ConfidenceLevel No Yes No
Bearing Yes Yes No
Velocity Yes Yes No
VehicleRef Yes Yes Yes
MonitoredCall Yes Yes No
MonitoredCall.StopPointRef Yes Yes No
MonitoredCall.Order Yes Yes No
MonitoredCall.AimedArrivalTime No No No
MonitoredCall.ExpectedArrivalTime No No No
MonitoredCall.ArrivalStatus No No No
MonitoredCall.ArrivalPlatformName No No No
MonitoredCall.DistanceFromStop Yes Yes No
OnwardCalls No Yes Yes
OnwardCalls.StopPointRef No Yes Yes
OnwardCalls.Order No Yes Yes
OnwardCalls.ExpectedArrivalTime No Yes Yes
OnwardCalls.ArrivalStatus No Optional Optional
OnwardCalls.ArrivalPlatformName No Optional Optional

Response at version 2.8
9.1. The Response at version 2.8 can be XML or JSON according to the
Request URL.
9.2. The XML format of the Response should be valid SIRI 2.0, as
checked against siri.xsd at
http://user47094.vs.easily.co.uk/siri/schema/2.0/Siri_XML-v2.0.zip
9.3. The Developer can parse the XML with the above siri.xsd, or with any
other way to parse XMLs.
9.4. The following table describe the structure of the Response:
Hiera
rchy
Grou
p
Field Type Description
1 Siri 1:1 SOAP response
2 ServiceDelivery 1:1
3
End
Point
Propertie
s
ResponseTimestamp 1:1 xsd:dateTime The time of the Response
ProducerRef 1:1 ParticipantCode The version of the SM Server
ResponseMessageIde
ntifier 1:1 MessageQualifi
er
An arbitrary unique reference associated with
the response which may be used to reference it.
4
StopMonitoringReque
st 1:*
Start of a structure that defines a Monitored
stop, see section 10 for details.
In case of an error in the Request, this structure
will contain the error.
9.5. A basic Response may look like:
<?xml version="1.0" encoding="UTF-8"?>
<Siri xmlns="http://www.siri.org.uk/siri">
 <ServiceDelivery>
 <ResponseTimestamp>2019-05-11T12:40:46.148+03:00</ResponseTimestamp>
 <ProducerRef>MOT_Data_Center_V154_3</ProducerRef>
 <StopMonitoringDelivery version="2.8">
 <ResponseTimestamp>2019-05-11T12:40:46.148+03:00</ResponseTimestamp>
 <ValidUntil>2019-05-11T22:40:46.148+03:00</ValidUntil>
State of Israel
17
 <MonitoredStopVisit>
 <RecordedAtTime>2019-05-12T15:00:42-04:00</RecordedAtTime>
 <ItemIdentifier>503635267</ItemIdentifier>
 <MonitoringRef>51202</MonitoringRef>
 <MonitoredVehicleJourney>
 <LineRef>1209</LineRef>
 <DirectionRef>2</DirectionRef>
 <FramedVehicleJourneyRef>
 <DataFrameRef>2019-05-11</DataFrameRef>
 <DatedVehicleJourneyRef>20925867</DatedVehicleJourneyRef>
 </FramedVehicleJourneyRef>
 <PublishedLineName>1</PublishedLineName>
 <OperatorRef>6</OperatorRef>
 <OriginRef>51102</OriginRef>
 <DestinationRef>51202</DestinationRef>
 <ConfidenceLevel>probablyReliable</ConfidenceLevel>
 <VehicleLocation>
 <Longitude>-73.991028</Longitude>
 <Latitude>40.663611</Latitude>
 </VehicleLocation>
 <Bearing>43.40886</Bearing>
 <VehicleRef>9030930</VehicleRef>
 <MonitoredCall>
 <StopPointRef>52202</StopPointRef>
 <Order>5</Order>
 <ExpectedArrivalTime>2019-05-12T15:12:02.569-04:00</ExpectedArrivalTime>
 </MonitoredCall>
 </MonitoredVehicleJourney>
 </MonitoredStopVisit>
 </StopMonitoringDelivery>
 </ServiceDelivery>
</Siri>
9.6. A Response with and error may look like:
<?xml version="1.0" encoding="UTF-8"?>
<Siri xmlns="http://www.siri.org.uk/siri">
 <ServiceDelivery>
 <ResponseTimestamp>2019-05-13T05:32:40.828-04:00</ResponseTimestamp>
 <StopMonitoringDelivery version="2.8">
 <ResponseTimestamp>2019-05-13T05:32:40.828-04:00</ResponseTimestamp>
 <ErrorCondition>
 <OtherError>
 <ErrorText>API key is not authorized</ErrorText>
 </OtherError>
 </ErrorCondition>
 </StopMonitoringDelivery>
 </ServiceDelivery>
</Siri>
9.7. The following are possible error massages:
9.7.1. "API key is not authorized".
9.7.2. "No such route: 3415".
9.7.3. "No such stop: 4566".

10.Common information for Response at both versions 2.7 and 2.8
10.1.As mentioned before, the versions 2.7 and 2.8 has the
StopMonitoringDelivery structure in common, and are different
outside this structure.
10.2.This section will detail the fields at StopMonitoringDelivery.
10.3.The hierarchy column will be relative to the hierarchy of
StopMonitoringDelivery. The symbol 'S' will resemble the hierarchy of
StopMonitoringDelivery, so 'S+1' will be a field at one level inside
StopMonitoringDelivery.
10.4.The following table details the fields that are inside
StopMonitoringDelivery. The table is based on CEN Volume 3 table
41, and CEN Volume 2 table 16:
Hiera
rchy
Versi
ons
Group Field Type Descriptions 
State of Israel
18
S both
Attribut
es
version 1:1 VersionString
Fix to '2.7' or '2.8'.
For version, the Response will
return the version in the
Request and values like '2.7IL'
are also valid.
S+1 both Log ResponseTimesta
mp
1:1 xsd:dateTime The time of the Response.
S+1 both
Status
Status 1:1 xsd:boolean
Whether the complete request
could be processed successfully
or not.
S+1 both ErrorCondition 1:0
S+2 both OtherError 1:1
S+3 both ErrorText 1:1 xsd:string
At 2.7 the field contains the
error code.
At 2.8 the field contains the
error description.
S+2 2.7 Description 1:1 xsd:string The description of the error
S+1 both
Payloa
d MonitoredStopVisit 0:* See section 0
A visit to a Monitored stop by a
Vehicle as an arrival and /or
departure.
10.5.The following table details the fields that are inside
MonitoredStopVisit. The table is based on CEN Volume 3 table 41:
Hiera
rchy
Versi
ons
Group Field Type Descriptions
S+2 both Log RecordedAtTim
e
1:1 xsd:dateTime
Time at which data was
recorded at the Vehicle. That
mean, for example, that the
Vehicle was at the
VehicleLocation at
RecordedAtTime.
S+2 both Identity ItemIdentifier 0:1 ItemIdentifier Unique identifier of the
MonitoredStopVisit.
S+2 both StopVisitRefe
rence
MonitoringRef 1:1 MonitoringCode The monitored stop code.
S+2 both JourneyInfo MonitoredVehicl
eJourney 1:1 See section 10.6
10.6.The following table details the fields that are inside
MonitoredVehicleJourney. The table is based on CEN Volume 3 table
43.
Hier
arch
y
Ver
sio
ns
Group Field Type Descriptions
S+3 both VehicleJourneyI
dentity
LineRef 1:1 LineCode Reference to a LINE
S+3 both DirectionRef 1:1 DirectionCode
Reference to a DIRECTION the
VEHICLE is running along the LINE.
Valid values are: 1, 2, 3.
State of Israel
19
S+3 both
FramedVehicleJ
ourneyRef
FramedVehicle
JourneyRef 1:1
FramedVehicleJ
ourneyRefStruct
ure
Trip ID structure.
See also CEN Volume 2 table 63.
S+4 both DataFrame
Ref 1:1 DataFrameQuali
fier
The date part of the trip ID.
Valid value is like: 2019-05-11.
S+4 both
DatedVehicl
eJourneyRe
f
1:1 DatedVehicleJo
urneyCode
The number part of trip ID.
Valid value is like: 20925867.
The value is reference to TripId at
TripIdToDate.txt file at the GTFS.
S+3 both JourneyPatternI
nfoGroup
PublishedLine
Name 1:1 NLString
The bus number, as published on
the bus.
Valid values are like: 561, 7,א99
The value is reference to
route_short_name at the GTFS.
See also CEN Volume 2 table 70.
S+3 both ServiceInfoGrou
p
OperatorRef 1:1 OperatorCode
The Operator code.
The value is reference to
agency_id at the GTFS.
See also CEN Volume 2 table 67.
S+3 both VehicleJourneyI
nfoGroup DestinationRef 1:1 JourneyPlaceCod
e
The destination stop code .
The value is reference to stop_code at
the GTFS.
See also CEN Volume 2 table 68.
S+3 both OriginAimedD
epartureTime 1:1 xsd:dateTime
The start time of the Journey,
according to the licensing system
.("מערכת הרישוי")
The value should match
DepartureTime at TripIdToDate.txt file
at the GTFS, for the relevant TripId.
S+3 2.8 Journey
ProgressInfo
ConfidenceLev
el 0:1
certain |
veryReliable |
reliable |
probablyReliable |
unconfirmed
The confidence level of the prediction.
S+3 both VehicleLocatio
n
0:1 See also CEN Volume 2 table 64.
S+4 both Longitude 1:1 LongitudeType Latitude from equator.
Valid value may be like: 35.3139762.
S+4 both Latitude 1:1 LatitudeType Latitude from equator.
Valid value may be like:
S+3 2.8 Bearing
0:1 Vehicle bearing with respect to the
North.
Valid values are between 0 and 360.
S+3 2.8 Velocity 0:1 Vehicle speed at Km/h.
S+3 both OperationalInfo
Group VehicleRef 1:1 VehicleCode
Vehicle number.
The value should match the license
number of the Vehicle ("רישוי מספר(".
Valid value may be like: 9030930
S+3 both CallingPattern MonitoredCall 0:1 Prediction for the monitored stop.
See section 10.7
S+3 2.8 OnwardCalls 0:1
S+4 2.8 OnwardCall 1:* See section 10.8
State of Israel
20
10.7.MonitoredCall fields.
10.7.1. The MonitoredCall fields have 2 different meaning, according
to the Request.
10.7.2. Mode A – normal stop monitoring Request, about Vehicle
arrivals to Monitored stop.
10.7.3. Mode B – Valid for Requests at 'snapshot' mode according to
sections 7.15, 7.16, 7.17. Also for Requests with
StopMonitoringDetailLevel=calls.
10.7.4. The following table details the fields that are inside
MonitoredCall. The table is based on CEN Volume 3 table 45.
Hie
rar
ch
y
Vers
ions
Grou
p
Field Type Description at mode A Description at mode B
S+4 both
StopI
dentit
y
StopPointRef 1:1 MonitoringC
ode Monitored stop code.
The stop code of the
stop that the Vehicle is
stopping at now, or
recently visited.
S+4 2.8 Order 0:1 xsd:positive
Integer
Monitored stop order.
The first stop is at
Order 1.
The stop order of the
stop that the Vehicle is
stopping at now, or
recently visited
S+4 both
Arrival
AimedArrivalTim
e
0:1 xsd:dateTim
e
Planned arrival time to
the Monitored stop.
The value will be pass
only when the Vehicle
have not started the
journey.
The value, if any, will
be the same as
ExpectedArrivalTime.
Will not pass
S+4 both ExpectedArrival
Time 0:1 xsd:dateTim
e
Expected arrival time to
the Monitored stop.
The value will be pass
both when the Vehicle
have started or not the
journey.
Will not pass
S+4 2.8 ArrivalStatus 0:1
onTime |
early |
delayed |
cancelled |
arrived |
noReport
Arrival status to the
Monitored stop. Will not pass
S+4 2.8 ArrivalPlatformN
ame
0:1 NLString Arrival platform name,
mainly for trains. Will not pass
S+4 2.8 DistanceFromSt
op
0:1 DistanceTy
pe
The distance that the Vehicle travelled from the
start of the journey.
Note: MOT defines this field in a different way that
CEN document.
State of Israel
21
The field value will have the same value of
LinkDistance at the SIRI-VM from the Operators.
The distance will be in units of Meters.
10.8.The following table details the fields that are inside OnwardCall.
10.9.The OnwardCall entities will contain prediction for all the stops,
starting from the next stop that the Vehicle is schedule to arrive,
till the last stop of the line.
10.10. Example: Assume that a line has 10 stops. The Vehicle is
between stop 4 and 5. So there will be OnwardCall entities for stop
5,6,7,8,9,10.
10.11. The Onward calls are independent of the MonitoredCall, and
there may be duplication between an OnwardCall entity and
MonitoredCall.
10.12. The mechanism for selecting stops to be shown as Onwardcall
is similar to the MTA SIRI-SM.
10.13. The table is based on CEN Volume 3 table 48.
Hier
arc
hy
Ver
sio
ns
Group Field Type Descriptions
S+5 2.8
StopId
entity
StopPointRef 1:1 MonitoringCode Stop code
S+5 2.8 Order 1:1 xsd:positiveIntege
r
Stop order.
The first stop is with Order 1
S+5 2.8 ExpectedArrivalTime 11: xsd:dateTime Expected arrival time
S+5 2.8 ArrivalStatus 0:1
onTime | early |
delayed |
cancelled |
arrived |
noReport
Arrival status to the stop.
If the arrival to the stop is cancelled,
at value of 'cancelled' will be passed.
S+5 2.8 ArrivalPlatformName 0:1 NLString Arrival platform name, mainly for trains

11.SIRI General Capabilities
11.1.When implementing SIRI-SM protocol, based on CEN documents,
several decision must be taken. This chapter, and the following
chapter, details the decisions that MOT took for the Israeli SIRI-SM
version 2.7 and 2.8.
11.2.The decisions are detailed by a mechanism that is called "Capability
Matrix", and is described at CEN Volume 2, table 6.
11.3.The following table is the MOT decisions based on CEN Volume 2,
table 6.
Subject Definition
Setting Up Services SM
Defines the version of SIRI
on which it is based
The document hierarchy is :
A. The tables of this document (ICD).
B. Scheme files.
C. CEN documents.
Determination of
communication method Request-Response
The protocol 2.7: SOAP, that is based on HTTP POST
2.8: SIRI-Lite, that is based on HTTP GET
Ability Matrix Subject Decisio
n
Implication
All mandatory fields in the
general capabilities matrix
should be exercised
according to CEN Volume 2,
Table 6.
In addition, the optional
fields must be used in the
manner shown in the table
on the left. There is no need
to pass the capacity matrix
in any message since the
determinations in this regard
are permanent.
Versioning YES Check version in each
request.
CapabilityChecking NO
Checking the capabilities of
the server to provide what is
required of the client request.
If not, a transmission error is
returned -
CapabilityNotSupportedError
CapabilityDiscovery NO
What is determined in the
ICD will be exercised
statically
DynamicContext NO Same as above.
Historic NO
MultipleFilters NO
AccessControl YES Permission option.
DirectDelivery YES
Forward the entire
response directly after the
request without
intermediate messages.
VisitCountIsOrder NO
MultipartDespatch NO Option to split messages.
State of Israel
23
Subject Definition
CheckStatus NO Ability to check server
status by the client.
Heartbeat NO Using the check-status
instead.
SoapEnvelope 2:7 YES
2.8 NO
Addresses Implicit Static server addresses
settings.
Compression YES
Support the option of gzip
compression to the
response.
Is IP Authentication or
another method?
IP Authentication. Call from an unknown address will result in an
error.
Access rights On the basis of the AccessControl definitions.
12.Basic settings for the interface ("capacity matrix" for the SM service):
12.1.The purpose of this section and its table is to summarize the server
capabilities and interface.
12.2.The section is based on the Capability Matrix of the SM service, as
expressed in CEN Volume 3, Table 33, with local adjustments.
12.3.Rules:
12.3.1. The table below defines the frame boundaries for the tables in
the following sections.
12.3.2. The table is static and cannot be dynamically changed while
running.
12.3.3. The capability defined in this table as False will not be
supported by the SM Server.
12.3.4. The capability defined in this table as True will be supported
by the SM Server, but the SM client does not have to use the
specific capability.
12.3.5. The SM client is responsible for transferring only requests that
meet the definitions in the table.
Topic Capability Value Description
TopicFiltering Which optional filtering features are supported?
DefaultPreviewInterv
al 30 minutes Default Preview Interval.
ByStartTime True Whether a start time other than now can be
specified for preview interval.
FilterByMonitoringRef True
Whether results can be filtered by Monitoring
point, which is a stop number or a pre-defined
of a group of stops.
State of Israel
24
FilterByLineRef True Whether results can be filtered by LineRef.
FilterByDirectionRef False Whether results can be filtered by
DirectionRef.
FilterByDestination False Whether results can be filtered by
DestinationRef.
FilterByVisitType False Whether results can be filtered by VisitType,
e.g. arrivals, departures
RequestPolic
y
Which features of RequestPolicy are supported by service?
Language English Languages used by service.
Translations False Whether the producer supports translations.
GmlCoordinateForma
t
WGS84 Coordinate format.
WgsDecimalDegrees The coordinate will be delivered as decimal
numbers like 32.54672,34.67853
UseReferences True Whether results can return references for
stops.
UseNames False Whether results can return names for stop.
HasDetailLevel 2.7: False
2:8 True
Whether Detail level filtering is supported.
DefaultDetailLevel 2.7 N/A
2.8 Normal
Default Detail level if none specified on
request.
HasMaximumVisits True
Whether results can be limited to a maximum
number of arrival visits to include in a given
delivery.
HasMinimumStopVisi
tsPerLine False
Whether results can be limited to include a
minimum number of arrivals visits for a given
LineRef to include in a given delivery.
HasMaximumStopVis
itsPerLine
2.7 fixed to
a value of 3
2.8 True
Whether results can be limited to include a
maximum number of arrivals visits for a given
LineRef to include in a given delivery.
This is not a not part of SIRI, and is added
to version 2.8 just to enable backward
compatibility with past implementation of
version 2.7.
Version 2.7 has a fixed maximum of 3 arrivals
visits for a given LineRef to a stop.
HasNumberOfOnwar
dsCalls
2.7 False
2.8 True
If system can return detailed calling pattern,
whether a number of ONWARDS CALLs to
include can be specified?
HasNumberOfPrevio
usCalls False
If system can return detailed calling pattern,
whether a number of PREVIOUS CALLs to
include can be specified?
Subscription
Policy
Not relevant since Request Response mode is defined.
AccessContr
ol
Which optional Access Control features are supported by service?
RequestChecking False Whether Access Control of requests is
supported?
CheckOperatorRef False If access control is supported, whether
access control by OPERATOR is supported.
State of Israel
25
CheckLineRef False If access control is supported, whether access
control by LINE is supported.
CheckMonitoringRef False
If access control is supported, whether
access control by monitoring point (LOGICAL
DISPLAY) is supported.
ResponseFe
atures HasLineNotice False Whether service supports Line Notices?


