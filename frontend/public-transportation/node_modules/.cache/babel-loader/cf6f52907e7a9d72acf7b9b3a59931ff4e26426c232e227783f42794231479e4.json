{"ast":null,"code":"var _jsxFileName = \"/home/yaniv/101_coding/publicTransportation/react/public-transportation/src/App.js\",\n  _s = $RefreshSig$();\nimport './App.css';\nimport axios from 'axios';\nimport { useEffect, useState, useRef } from 'react';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nfunction App() {\n  _s();\n  const isInitialRender = useRef(true);\n  useEffect(() => {\n    if (isInitialRender.current) {\n      isInitialRender.current = false;\n      return;\n    }\n    console.log('Hi');\n\n    // Optional cleanup function to demonstrate the double-invocation\n    return () => {\n      console.log('App component will unmount');\n    };\n  }, []); // Empty dependency array means this runs once on mount\n\n  return /*#__PURE__*/_jsxDEV(\"div\", {\n    className: \"App\",\n    children: /*#__PURE__*/_jsxDEV(\"h1\", {\n      children: \"Welcome to the Public Transport App\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 22,\n      columnNumber: 7\n    }, this)\n  }, void 0, false, {\n    fileName: _jsxFileName,\n    lineNumber: 21,\n    columnNumber: 5\n  }, this);\n}\n\n// const [Siri, setSiriData] = useState(null);\n// const [loading, setLoading] = useState(false);\n// const [error, setError] = useState(null);\n\n// const fetchData = () => {\n//   setLoading(true);\n//   setError(null);\n\n//   console.group('Fetch Data Process');\n//   console.log('Starting fetch at:', new Date().toISOString());\n\n//   axios({\n//     method: 'get',\n//     url: process.env.REACT_APP_API_URL || 'https://localhost/publicTransportation.php',\n//     timeout: 10000, // 10-second timeout\n//   })\n//     .then((res) => {\n//       console.log('Full Axios Response:', res);\n//       console.log('Response Data:', res.data);\n\n//       const siriData =\n//         res.data?.Siri || res.data?.data?.Siri || { message: 'No data available' };\n\n//       console.log('Extracted Siri Data:', siriData);\n\n//       setSiriData(siriData);\n//       setLoading(false);\n//     })\n//     .catch((err) => {\n//       console.error('Complete Error Object:', err);\n//       console.log('Error Details:', {\n//         message: err.message,\n//         code: err.code,\n//         response: err.response,\n//         request: err.request,\n//       });\n\n//       const errorMessage = err.response\n//         ? `Server responded with status ${err.response.status}`\n//         : err.request\n//         ? 'Network error: Unable to reach the server'\n//         : 'An unexpected error occurred';\n//       setError(errorMessage);\n//       setLoading(false);\n//     })\n//     .finally(() => {\n//       console.groupEnd();\n//     });\n// };\n\n// useEffect(() => {\n//   console.log('Initial Render - Fetching Data');\n//   fetchData();\n// }, []);\n\n// useEffect(() => {\n//   console.log('Siri State Updated:', Siri);\n// }, [Siri]);\n\n// function VehicleDetails({ journey }) {\n//   return (\n//     <div className=\"vehicle-details-container\">\n//       <div className=\"details-row\">\n//         <label className=\"label\">Line:</label>\n//         <span className=\"value\">{journey.PublishedLineName}</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Direction:</label>\n//         <span className=\"value\">{journey.DirectionRef}</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Expected Arrival:</label>\n//         <span className=\"value\">{journey.MonitoredCall.ExpectedArrivalTime}</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Distance From Stop:</label>\n//         <span className=\"value\">{journey.MonitoredCall.DistanceFromStop} meters</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Vehicle Location:</label>\n//         <span className=\"value\">\n//           {journey.VehicleLocation.Latitude}, {journey.VehicleLocation.Longitude}\n//         </span>\n//       </div>\n//     </div>\n//   );\n// }\n\n// function ShowData({ Siri, loading, error }) {\n//   if (loading) return <h2>Loading...</h2>;\n//   if (error) return <h2>{error}</h2>;\n\n//   if (!Siri || !Siri.ServiceDelivery) {\n//     console.warn('No Siri data or ServiceDelivery found');\n//     return <h2>No data available</h2>;\n//   }\n\n//   const monitoredVehicles =\n//     Siri.ServiceDelivery.StopMonitoringDelivery[0]?.MonitoredStopVisit || [];\n\n//   if (monitoredVehicles.length === 0) {\n//     return <h2>No vehicles are currently being monitored</h2>;\n//   }\n\n//   console.log('Monitored Vehicles:', monitoredVehicles);\n\n//   return (\n//     <div>\n//       <h2>Monitored Vehicles:</h2>\n//       {monitoredVehicles.map((visit, index) => (\n//         <VehicleDetails\n//           key={visit.ItemIdentifier || index}\n//           journey={visit.MonitoredVehicleJourney}\n//         />\n//       ))}\n//     </div>\n//   );\n// }\n\n// return (\n//   <div className=\"App\">\n//     <button\n//       className=\"refresh-button\"\n//       onClick={fetchData}\n//       disabled={loading}\n//     >\n//       {loading ? 'Refreshing...' : 'Refresh'}\n//     </button>\n//     <div className=\"content\">\n//       <div className=\"left-side\">\n//         <ShowData Siri={Siri} loading={loading} error={error} />\n//       </div>\n//       <div className=\"right-side\">\n//         <h2>Map</h2>\n//       </div>\n//     </div>\n//   </div>\n// );\n// }\n_s(App, \"LWORZKme+o33nlPX1pKwcN+8Guw=\");\n_c = App;\nexport default App;\nvar _c;\n$RefreshReg$(_c, \"App\");","map":{"version":3,"names":["axios","useEffect","useState","useRef","jsxDEV","_jsxDEV","App","_s","isInitialRender","current","console","log","className","children","fileName","_jsxFileName","lineNumber","columnNumber","_c","$RefreshReg$"],"sources":["/home/yaniv/101_coding/publicTransportation/react/public-transportation/src/App.js"],"sourcesContent":["import './App.css';\nimport axios from 'axios';\nimport { useEffect, useState, useRef } from 'react';\n\nfunction App() {\n  const isInitialRender = useRef(true); \n  useEffect(() => {\n    if (isInitialRender.current) {\n      isInitialRender.current = false; \n      return;\n    }\n    console.log('Hi');\n    \n    // Optional cleanup function to demonstrate the double-invocation\n    return () => {\n      console.log('App component will unmount');\n    };\n  }, []); // Empty dependency array means this runs once on mount\n\n  return (\n    <div className=\"App\">\n      <h1>Welcome to the Public Transport App</h1>\n    </div>\n  );\n}\n\n// const [Siri, setSiriData] = useState(null);\n// const [loading, setLoading] = useState(false);\n// const [error, setError] = useState(null);\n\n// const fetchData = () => {\n//   setLoading(true);\n//   setError(null);\n\n//   console.group('Fetch Data Process');\n//   console.log('Starting fetch at:', new Date().toISOString());\n\n//   axios({\n//     method: 'get',\n//     url: process.env.REACT_APP_API_URL || 'https://localhost/publicTransportation.php',\n//     timeout: 10000, // 10-second timeout\n//   })\n//     .then((res) => {\n//       console.log('Full Axios Response:', res);\n//       console.log('Response Data:', res.data);\n\n//       const siriData =\n//         res.data?.Siri || res.data?.data?.Siri || { message: 'No data available' };\n\n//       console.log('Extracted Siri Data:', siriData);\n\n//       setSiriData(siriData);\n//       setLoading(false);\n//     })\n//     .catch((err) => {\n//       console.error('Complete Error Object:', err);\n//       console.log('Error Details:', {\n//         message: err.message,\n//         code: err.code,\n//         response: err.response,\n//         request: err.request,\n//       });\n\n//       const errorMessage = err.response\n//         ? `Server responded with status ${err.response.status}`\n//         : err.request\n//         ? 'Network error: Unable to reach the server'\n//         : 'An unexpected error occurred';\n//       setError(errorMessage);\n//       setLoading(false);\n//     })\n//     .finally(() => {\n//       console.groupEnd();\n//     });\n// };\n\n// useEffect(() => {\n//   console.log('Initial Render - Fetching Data');\n//   fetchData();\n// }, []);\n\n// useEffect(() => {\n//   console.log('Siri State Updated:', Siri);\n// }, [Siri]);\n\n// function VehicleDetails({ journey }) {\n//   return (\n//     <div className=\"vehicle-details-container\">\n//       <div className=\"details-row\">\n//         <label className=\"label\">Line:</label>\n//         <span className=\"value\">{journey.PublishedLineName}</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Direction:</label>\n//         <span className=\"value\">{journey.DirectionRef}</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Expected Arrival:</label>\n//         <span className=\"value\">{journey.MonitoredCall.ExpectedArrivalTime}</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Distance From Stop:</label>\n//         <span className=\"value\">{journey.MonitoredCall.DistanceFromStop} meters</span>\n//       </div>\n//       <div className=\"details-row\">\n//         <label className=\"label\">Vehicle Location:</label>\n//         <span className=\"value\">\n//           {journey.VehicleLocation.Latitude}, {journey.VehicleLocation.Longitude}\n//         </span>\n//       </div>\n//     </div>\n//   );\n// }\n\n// function ShowData({ Siri, loading, error }) {\n//   if (loading) return <h2>Loading...</h2>;\n//   if (error) return <h2>{error}</h2>;\n\n//   if (!Siri || !Siri.ServiceDelivery) {\n//     console.warn('No Siri data or ServiceDelivery found');\n//     return <h2>No data available</h2>;\n//   }\n\n//   const monitoredVehicles =\n//     Siri.ServiceDelivery.StopMonitoringDelivery[0]?.MonitoredStopVisit || [];\n\n//   if (monitoredVehicles.length === 0) {\n//     return <h2>No vehicles are currently being monitored</h2>;\n//   }\n\n//   console.log('Monitored Vehicles:', monitoredVehicles);\n\n//   return (\n//     <div>\n//       <h2>Monitored Vehicles:</h2>\n//       {monitoredVehicles.map((visit, index) => (\n//         <VehicleDetails\n//           key={visit.ItemIdentifier || index}\n//           journey={visit.MonitoredVehicleJourney}\n//         />\n//       ))}\n//     </div>\n//   );\n// }\n\n// return (\n//   <div className=\"App\">\n//     <button\n//       className=\"refresh-button\"\n//       onClick={fetchData}\n//       disabled={loading}\n//     >\n//       {loading ? 'Refreshing...' : 'Refresh'}\n//     </button>\n//     <div className=\"content\">\n//       <div className=\"left-side\">\n//         <ShowData Siri={Siri} loading={loading} error={error} />\n//       </div>\n//       <div className=\"right-side\">\n//         <h2>Map</h2>\n//       </div>\n//     </div>\n//   </div>\n// );\n// }\n\nexport default App;\n"],"mappings":";;AAAA,OAAO,WAAW;AAClB,OAAOA,KAAK,MAAM,OAAO;AACzB,SAASC,SAAS,EAAEC,QAAQ,EAAEC,MAAM,QAAQ,OAAO;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAEpD,SAASC,GAAGA,CAAA,EAAG;EAAAC,EAAA;EACb,MAAMC,eAAe,GAAGL,MAAM,CAAC,IAAI,CAAC;EACpCF,SAAS,CAAC,MAAM;IACd,IAAIO,eAAe,CAACC,OAAO,EAAE;MAC3BD,eAAe,CAACC,OAAO,GAAG,KAAK;MAC/B;IACF;IACAC,OAAO,CAACC,GAAG,CAAC,IAAI,CAAC;;IAEjB;IACA,OAAO,MAAM;MACXD,OAAO,CAACC,GAAG,CAAC,4BAA4B,CAAC;IAC3C,CAAC;EACH,CAAC,EAAE,EAAE,CAAC,CAAC,CAAC;;EAER,oBACEN,OAAA;IAAKO,SAAS,EAAC,KAAK;IAAAC,QAAA,eAClBR,OAAA;MAAAQ,QAAA,EAAI;IAAmC;MAAAC,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAI;EAAC;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACzC,CAAC;AAEV;;AAEA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AAAAV,EAAA,CAhKSD,GAAG;AAAAY,EAAA,GAAHZ,GAAG;AAkKZ,eAAeA,GAAG;AAAC,IAAAY,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}