{"ast":null,"code":"import axios from 'axios';\nconst GTFS_BASE_URL = '/api/gtfs'; // URL to your GTFS data API\n\n/**\n * Load stop information from GTFS data\n * @returns {Promise<Array>} List of stops\n */\nexport async function getStops() {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/stops`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching GTFS stops:', error);\n    return [];\n  }\n}\n\n/**\n * Load route information from GTFS data\n * @returns {Promise<Array>} List of routes\n */\nexport async function getRoutes() {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/routes`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching GTFS routes:', error);\n    return [];\n  }\n}\n\n/**\n * Get scheduled departures for a stop\n * @param {string} stopId - The stop ID\n * @returns {Promise<Array>} List of scheduled departures\n */\nexport async function getScheduledDepartures(stopId) {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/departures?stop=${stopId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching scheduled departures for stop ${stopId}:`, error);\n    return [];\n  }\n}\n\n/**\n * Search for stops by name\n * @param {string} query - Search query\n * @returns {Promise<Array>} List of matching stops\n */\nexport async function searchStops(query) {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/stops/search?q=${encodeURIComponent(query)}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error searching stops:', error);\n    return [];\n  }\n}\n\n/**\n * Get route shape (geometry)\n * @param {string} routeId - The route ID\n * @returns {Promise<Array>} List of coordinates forming the route shape\n */\nexport async function getRouteShape(routeId) {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/shapes?route=${routeId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching shape for route ${routeId}:`, error);\n    return [];\n  }\n}","map":{"version":3,"names":["axios","GTFS_BASE_URL","getStops","response","get","data","error","console","getRoutes","getScheduledDepartures","stopId","searchStops","query","encodeURIComponent","getRouteShape","routeId"],"sources":["/home/yaniv/101_coding/publicTransportation/react/public-transportation/src/services/gtfs-service.js"],"sourcesContent":["import axios from 'axios';\n\nconst GTFS_BASE_URL = '/api/gtfs'; // URL to your GTFS data API\n\n/**\n * Load stop information from GTFS data\n * @returns {Promise<Array>} List of stops\n */\nexport async function getStops() {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/stops`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching GTFS stops:', error);\n    return [];\n  }\n}\n\n/**\n * Load route information from GTFS data\n * @returns {Promise<Array>} List of routes\n */\nexport async function getRoutes() {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/routes`);\n    return response.data;\n  } catch (error) {\n    console.error('Error fetching GTFS routes:', error);\n    return [];\n  }\n}\n\n/**\n * Get scheduled departures for a stop\n * @param {string} stopId - The stop ID\n * @returns {Promise<Array>} List of scheduled departures\n */\nexport async function getScheduledDepartures(stopId) {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/departures?stop=${stopId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching scheduled departures for stop ${stopId}:`, error);\n    return [];\n  }\n}\n\n/**\n * Search for stops by name\n * @param {string} query - Search query\n * @returns {Promise<Array>} List of matching stops\n */\nexport async function searchStops(query) {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/stops/search?q=${encodeURIComponent(query)}`);\n    return response.data;\n  } catch (error) {\n    console.error('Error searching stops:', error);\n    return [];\n  }\n}\n\n/**\n * Get route shape (geometry)\n * @param {string} routeId - The route ID\n * @returns {Promise<Array>} List of coordinates forming the route shape\n */\nexport async function getRouteShape(routeId) {\n  try {\n    const response = await axios.get(`${GTFS_BASE_URL}/shapes?route=${routeId}`);\n    return response.data;\n  } catch (error) {\n    console.error(`Error fetching shape for route ${routeId}:`, error);\n    return [];\n  }\n}\n"],"mappings":"AAAA,OAAOA,KAAK,MAAM,OAAO;AAEzB,MAAMC,aAAa,GAAG,WAAW,CAAC,CAAC;;AAEnC;AACA;AACA;AACA;AACA,OAAO,eAAeC,QAAQA,CAAA,EAAG;EAC/B,IAAI;IACF,MAAMC,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,aAAa,QAAQ,CAAC;IAC1D,OAAOE,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,4BAA4B,EAAEA,KAAK,CAAC;IAClD,OAAO,EAAE;EACX;AACF;;AAEA;AACA;AACA;AACA;AACA,OAAO,eAAeE,SAASA,CAAA,EAAG;EAChC,IAAI;IACF,MAAML,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,aAAa,SAAS,CAAC;IAC3D,OAAOE,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,6BAA6B,EAAEA,KAAK,CAAC;IACnD,OAAO,EAAE;EACX;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeG,sBAAsBA,CAACC,MAAM,EAAE;EACnD,IAAI;IACF,MAAMP,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,aAAa,oBAAoBS,MAAM,EAAE,CAAC;IAC9E,OAAOP,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,gDAAgDI,MAAM,GAAG,EAAEJ,KAAK,CAAC;IAC/E,OAAO,EAAE;EACX;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeK,WAAWA,CAACC,KAAK,EAAE;EACvC,IAAI;IACF,MAAMT,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,aAAa,mBAAmBY,kBAAkB,CAACD,KAAK,CAAC,EAAE,CAAC;IAChG,OAAOT,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,wBAAwB,EAAEA,KAAK,CAAC;IAC9C,OAAO,EAAE;EACX;AACF;;AAEA;AACA;AACA;AACA;AACA;AACA,OAAO,eAAeQ,aAAaA,CAACC,OAAO,EAAE;EAC3C,IAAI;IACF,MAAMZ,QAAQ,GAAG,MAAMH,KAAK,CAACI,GAAG,CAAC,GAAGH,aAAa,iBAAiBc,OAAO,EAAE,CAAC;IAC5E,OAAOZ,QAAQ,CAACE,IAAI;EACtB,CAAC,CAAC,OAAOC,KAAK,EAAE;IACdC,OAAO,CAACD,KAAK,CAAC,kCAAkCS,OAAO,GAAG,EAAET,KAAK,CAAC;IAClE,OAAO,EAAE;EACX;AACF","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}